{% extends "layout.html" %}

{% block page_content %}

<div class="col-lg-12 col-xs-12">
	<div class="box">
		<div class="box-header">
			<h3 class="box-title">{{username}}</h3>

			<div class="box-tools">
				<div class="input-group input-group-sm" style="width: 150px;">
					<input type="text" name="table_search" class="form-control pull-right" placeholder="Search">

					<div class="input-group-btn">
						<button type="submit" class="btn btn-default"><i class="fa fa-search"></i></button>
					</div>
				</div>
			</div>
		</div>
		<!-- /.box-header -->
		<div class="box-body table-responsive no-padding">
			<table class="table table-hover">
				<tbody><tr>
					<th>ID</th>
					<th>File Name</th>
					<th>Descriptive</th>
					<th>Delete Entry</th>
				</tr>
				{% for entry in entries %}
				<tr>
					<td id="code_id">{{entry[0]}}</td>
					<td><a href="/run_code/{{entry[1]}}"> {{entry[3]}}</a></td>
					<td>{{entry[5]}}</td>
					<td>
						<span style="cursor:pointer" id="del" onclick="delete_entry({{entry[4]}})" class="label label-danger">Del</span>
					</td>
				</tr>
				{% endfor %}
			</tbody></table>
		</div>
		<!-- /.box-body -->
	</div>
	<!-- /.box -->
</div>
{% endblock %}

{% block page_script %}
{{ super() }}
<script>
$(document).ready(function() {
		$("#sidebar_run_code").removeAttr("onclick");
		$("#sidebar_debug_code").removeAttr("onclick");
		$("#sidebar_save_code").removeAttr("onclick");
		$("#sidebar_share_code").removeAttr("onclick");
		$("#hide_time").hide();
		var i = 0;
		var table = document.getElementById("tbl")
		var rowNum = table.rows.length;
		for (i = 1; i < rowNum; i++) {
		table.rows[i].cells[0].innerHTML = i;
		}

		});
</script>
<script>
function delete_entry(time) {
	$.post(
			"/delete_entry",
			{saved_time: time,
			},
			function(re, st) {
			window.location.replace("/profile");
			});
	return false;
}
</script>
{% endblock %}
